var userPool=new AmazonCognitoIdentity.CognitoUserPool(poolData),cognitoUser=userPool.getCurrentUser();function getUserGroups(){cognitoUser.getSession((function(o,n){return o?(console.log(o),null):result.idToken.payload.hasOwnProperty("cognito:groups")?result.idToken.payload["cognito:groups"][0]:"patient"}))}function signOut(){sessionStorage.clear(),null!=cognitoUser&&cognitoUser.signOut(),window.location.href="./signin.html"}null!=cognitoUser?cognitoUser.getSession((function(o,n){o?console.log("error -",o):(n.isValid()||signOut(),console.log("session validity: ",n.isValid()),console.log("session: "+JSON.stringify(n)),sessionStorage.setItem("uid",n.idToken.payload.sub),sessionStorage.setItem("email",n.idToken.payload.email),cognitoUser.getUserAttributes((function(o,n){o?console.log(o):console.log("userAttributes"+JSON.stringify(n))})))})):window.location.href="./signin.html";