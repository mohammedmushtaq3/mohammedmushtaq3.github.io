var userPool=new AmazonCognitoIdentity.CognitoUserPool(poolData),cognitoUser=userPool.getCurrentUser();function getUserGroups(){cognitoUser.getSession((function(o,e){return o?(console.log(o),null):result.idToken.payload.hasOwnProperty("cognito:groups")?result.idToken.payload["cognito:groups"][0]:"patient"}))}function signOut(){sessionStorage.clear(),null!=cognitoUser&&cognitoUser.signOut(),window.location.href="./"+signinPage}null!=cognitoUser?cognitoUser.getSession((function(o,e){o?console.log("error -",o):(e.isValid()||signOut(),console.log("session validity: ",e.isValid()),console.log("session: "+JSON.stringify(e)),sessionStorage.setItem("uid",e.idToken.payload.sub),sessionStorage.setItem("email",e.idToken.payload.email),cognitoUser.getUserAttributes((function(o,e){o?console.log(o):console.log("userAttributes"+JSON.stringify(e))})))})):window.location.href="./"+signinPage;