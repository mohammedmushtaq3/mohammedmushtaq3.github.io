$(document).ready((function(){$("[data-bs-tooltip]").tooltip(),$("[data-bs-chart]").each((function(t,e){this.chart=new Chart($(e),$(e).data("bs-chart"))}))})),sessionStorage.clear(),window._config={cognito:{userPoolId:"us-east-1_InedFezwr",region:"us-east-1",clientId:"2g2q4svd2pg3lro7jv9ae5q59h"}};const CORS="",ENDPOINT="https://api.ahmedalnajjar.com/dev";let poolData={UserPoolId:_config.cognito.userPoolId,ClientId:_config.cognito.clientId};const bootstrapCDN='<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css">',style="<style>\n                @media print {\n                  .sticky-footer {\n                      position: fixed;\n                      bottom: 0;\n                  }\n                }\n              </style>";function resizeIframe(t){t.style.height=t.contentWindow.document.documentElement.scrollHeight+"px",t.scrolling="no"}function ptRenderForm(t){console.log("render-form -",t);var e=t.body.Items[0].form_data;let n="";"adult_form"===t.body.Items[0].form_type&&(n="https://overlord-mmorpg.github.io/telepsychplus/forms/adult-form.html"),$("#user-report-iframe").attr("src",n),js2form($("#user-report-iframe").find(".forms"),e)}function ptShowForm(t,e){getResponse(`/users/${sessionStorage.getItem("pid")}/forms`,{email:sessionStorage.getItem("email"),form_type:t,created:e},ptRenderForm)}function ptViewFormsList(t){console.log("forms list -",t),$("#forms-list").html(""),t.body.Items.forEach(t=>{$(`<li class="p-3 text-white text-uppercase mb-1 pointer action" style="background-color: #b5b5b5;" data-action="show-user-report" data-form-type='${t.form_type}' data-created="${t.created}">\n          <span class="d-block mb-1 text-uppercase font-weight-bold">${t.form_type.replace("_"," ")}</span>\n          <span>${moment(t.created).format("LLL")}</span>\n        </li>`).appendTo("#forms-list")})}function ptViewFormsSection(){$(".sections").addClass("d-none"),$(".sections.view-forms").removeClass("d-none"),getResponse(`/users/${sessionStorage.getItem("pid")}/forms`,{email:sessionStorage.getItem("email")},ptViewFormsList)}function confirmAppointment(t){$.showConfirm({title:"Appointment Confirmation",body:"Do you want to confirm this appointment",textTrue:"CONFIRM",textFalse:"CANCEL",onSubmit:function(t){t&&$.toast({icon:"success",text:"<p class='p-3'>Appointment Confirmed</p>",delay:"3000",position:"top-right",dismissible:!1})}})}function showInvoice(t){getResponse("/admin/users",{filter_name:"sub",filter_value:t},null);var e=`<html><head>${bootstrapCDN}${style}</head><body>${renderInvoice()}</body></html>`;$.showModal({title:"INVOICE <button class='btn btn-sm btn-primary position-absolute print' style='right:50px;'>PRINT</button>",body:`<iframe id="printContent" name="printContent" height="500" srcdoc='${e}'></iframe>`});$("iframe#printContent").height();var n=$("iframe#printContent").parent().height(500);console.log(n)}function openPatientDashboard(t,e){window.location.href=`./patient/pt-dashboard.html?pid=${t}&eid=${e}`}function userProfileModal(t){$.showModal({title:"USER PROFILE",body:renderUserHtml(t.data[0])})}function getResponse(t,e,n){$.ajax({url:""+ENDPOINT+t,type:"get",dataType:"json",data:e,contentType:"application/json"}).done((function(t){n(t)})).fail((function(t){console.log("error -",t)}))}function getSyncResponse(t,e){$.ajax({url:""+ENDPOINT+t,type:"get",dataType:"json",data:e,async:!1,contentType:"application/json"}).done((function(t){return t})).fail((function(t){return console.log("error -",t),t}))}if($(document).on("click",".action, a",(function(t){var e=$(this).data("action"),n=$(this).data("id");if(console.log("action - ",e,n),"profile"===e&&getResponse("/admin/users",{filter_name:"sub",filter_value:n},userProfileModal),"confirm"===e&&confirmAppointment(n),"invoice"===e&&showInvoice(n),"reschedule"===e&&rescheduleAppointment(n),"pt-dashboard"===e&&(event_id=$(this).data("eid"),openPatientDashboard(n,event_id)),"pt-dashboard-home"===e&&ptDashboardInit(),"view-forms"===e&&ptViewFormsSection(),"show-user-report"===e){ptShowForm($(this).data("formType"),$(this).data("created"))}})),$(document).on("click",".print",(function(t){window.frames.printContent.print()})),$("#patient-select").select2({placeholder:"Select a Patient",width:"75%",ajax:{delay:250,url:ENDPOINT+"/admin/users",data:function(t){var e={filter_name:$("#patient-filter-name").val(),filter_value:t.term,limit:10};return"query:append"===t._type&&""!=sessionStorage.getItem("patient_select_pagination_token")&&(e.PaginationToken=sessionStorage.getItem("patient_select_pagination_token"),sessionStorage.setItem("patient_select_pagination_token","")),e},processResults:function(t){t.hasOwnProperty("PaginationToken")?sessionStorage.setItem("patient_select_pagination_token",t.PaginationToken):sessionStorage.setItem("patient_select_pagination_token","");var e=[],n=$("#patient-filter-name").val();return e.push({id:"",text:"All"}),t.data.forEach((function(t,i){e.push({id:t.sub,text:t[n]})})),{results:e}}}}),$("#form-reset").on("click",(function(){$("#patient-select").empty()})),$("#patient-select").on("select2:select",(function(t){var e=t.params.data.id,n=ENDPOINT+"/admin/users?filter_name=sub&filter_value="+e;$.get(n,(function(t){$("#patient-email").val(t.data[0].email)}))})),$(".tel-phone-input").length&&$(".tel-phone-input").intlTelInput({autoPlaceholder:"off",preferredCountries:["ae"],utilsScript:"https://cdn.jsdelivr.net/npm/intl-tel-input@17.0.8/build/js/utils.js"}),$(".countries-list").length){$(".countries-list").select2({width:"100%"});var countryData=window.intlTelInputGlobals.getCountryData();addressDropdown=document.querySelector(".countries-list");for(var i=0;i<countryData.length;i++){var country=countryData[i],optionNode=document.createElement("option");optionNode.value=country.name;var textNode=document.createTextNode(country.name);optionNode.appendChild(textNode),addressDropdown.appendChild(optionNode)}}function findAge(t){return moment().diff(t,"years",!1)}function getUserName(t){return`${null!=t.given_name?t.given_name+" ":""}\n  ${null!=t.middle_name?t.middle_name+" ":""}\n  ${null!=t.family_name?t.family_name+" ":""}`}function renderUserHtml(t){return`<div class="row m-1 py-3 small rounded shadow">\n      <div class="col-sm-auto text-center">\n        <img class="w-100" style="max-width: 100px;" src=${null!=t.picture?t.picture:"./assets/img/user.svg"} />\n      </div>\n      <div class="col">\n          <div class="row">\n              <div class="col">\n              <h6 class="text-capitalize mb-0 font-weight-bold">${getUserName(t)}</h6>\n              <p>${t.email}</p>\n              <p class="mb-0"><strong>DOB</strong>: ${null!=t.birthdate?t.birthdate:"-"}</p>\n              <p class="mb-0"><strong>Age</strong>: ${null!=t.birthdate?findAge(t.birthdate):"-"} Years</p>\n              </div>\n              <div class="col">\n              <p class="mb-0"><strong>Nationality</strong>: ${null!=t.locale?t.locale:"-"}</p>\n              <p class="mb-0"><strong>Phone</strong>: ${null!=t.phone_number?t.phone_number:"-"}</p>\n              <p class="mb-0"><strong>Address</strong>: ${null!=t.address?t.address:"-"}</p>\n              <p class="mb-0"><strong>Emirates ID</strong>: ${null!=t.preferred_username?t.preferred_username:"-"}</p>\n              <button class="btn btn-outline-primary action btn-sm m-1" type="button" data-action="pt-dashboard" data-id='${t.sub}'>PATIENT DASHBOARD</button>\n              </div>\n          </div>\n      </div>\n  </div>`}function eventTimeToString(t,e){return`${moment(t).format("LL")} - ${moment(e).format("LT")}`}function serviceDetails(t){return`${null!=t.service_type?t.service_type+" | ":""} \n  ${null!=t.service_amount?""+t.service_amount:""}\n  ${null!=t.service_currency?t.service_currency+" | ":""}\n  ${null!=t.service_duration?t.service_duration+" min | ":""}\n  ${null!=t.service_desc?t.service_desc+" ":""};\n  `}function renderAppointmentHtml(t){return htmlContent=`<div class="row m-1 py-3 small rounded shadow" >\n    <div class="col">\n        <div class="row">\n            <div class="col">\n                <p class="font-weight-bold mb-0" style="font-size:1rem;">Meeting with ${t.extendedProperties.private.patient_email||"-"}</p>\n                <p class="mb-2">${eventTimeToString(t.start.dateTime,t.end.dateTime)}</p>\n            </div>\n            <div class="col-auto">\n                <p class="mb-1"><strong>File No. </strong> ${t.extendedProperties.private.file_no}</p>\n            </div>\n        </div>\n        <p class="mb-1"><strong>Chief Complaint: </strong> ${t.extendedProperties.private.chief_complaint||"-"}</p>\n        <p class="mb-1"><strong>Location: </strong> ${t.location||"-"}</p>\n        <p class="mb-1"><strong>Service Details: </strong> ${serviceDetails(t.extendedProperties.private)} \n        </p>`,t.organizer.email==t.extendedProperties.private.creator_email?htmlContent+=`<p class="mb-0"><strong>Doctor: </strong>${t.organizer.displayName||t.organizer.email}</p>`:htmlContent+=`<p class="mb-0"><strong>Doctor: </strong>${t.organizer.email}</p>\n                    <p class="mb-1">Created By ${t.organizer.displayName||t.organizer.email}</p>`,htmlContent+=`<div class="row">\n                    <div class="col">\n                        <p class="mb-1"><strong>Status: </strong>${t.extendedProperties.private.status}</p>`,null!=t.extendedProperties.private.meeting_link&&(htmlContent+=`<p class="mb-1"><strong>Meeting: </strong><a href="${t.extendedProperties.private.meeting_link}" target="_blank" >Start Meeting</a></p>`),htmlContent+="</div>",htmlContent+='  <div class="col">',null!=t.extendedProperties.private.payment_ref&&(htmlContent+=`    <p class="mb-1"><strong>Payment Ref: </strong> ${t.extendedProperties.private.payment_ref} </p>`),null!=t.extendedProperties.private.amount&&(htmlContent+=`    <p class="mb-1"><strong>Payment Type: </strong> ${t.extendedProperties.private.payment_type} </p>`),htmlContent+="   </div>",htmlContent+=`</div>\n                <button class="btn btn-outline-primary action btn-sm m-1" type="button" data-action="profile" data-id='${t.extendedProperties.private.patient_id}'>USER PROFILE</button>`,"pending"==t.extendedProperties.private.status&&(htmlContent+=`<button class="btn btn-outline-primary action btn-sm m-1" type="button" data-action="confirm" data-id='${t.id}'>CONFIRM</button>`),null!=t.extendedProperties.private.payment_status&&"paid"==t.extendedProperties.private.payment_status&&(htmlContent+=`<button class="btn btn-outline-primary action btn-sm m-1" type="button" data-action="invoice" data-id='${t.id}' >INVOICE</button>`),htmlContent+=`<button class="btn btn-outline-primary action btn-sm m-1" type="button" data-action="reschedule" data-id='${t.id}'>RESCHEDULE</button>\n                <button class="btn btn-outline-primary action btn-sm m-1" type="button" data-action="pt-dashboard" data-id='${t.extendedProperties.private.patient_id}' data-eid='${t.id}'>PATIENT DASHBOARD</button>\n                </div>\n        </div>`,htmlContent}function renderInvoice(t){return'<footer class="sticky-footer w-100 text-center">\n                      <p class="mb-0 font-weight-bold">Araa Consultancy and Studies</p>\n                      <p class="mb-0">Unit 201, DBCS Building Al Gar houd 13866 Dubai 941, Tel: +971 ---------------</p>\n                      <p class="mb-0">Email: ahmedalnajjar@ahmedalnajjar.com web: www.ahmedalnajjar.com</p>\n                  </footer>','<div class="row">\n                      <div class="col-12 text-center"><img src="./assets/img/araa-consultancy-and-studies-logo.png" />\n                          <p class="mb-0">Experience Most Compassionate Healthcare in UAE</p>\n                          <p class="mb-0">Under the</p>\n                          <p class="font-weight-bold mb-5">Leadership of Dr. Ahmed Alnajjar</p>\n                      </div>\n                      <div class="col-12">\n                          <div class="row mb-5">\n                              <div class="col">\n                                  <p>Name: Mohammed Salman</p>\n                                  <p>Email : mohammedsalman0258@gmail.com</p>\n                                  <p>Age: 41 Years</p>\n                                  <p>Appointment : 30/1/2021 03:00 PM - 3:30 PM</p>\n                                  <p>Chief Complaint : Depression</p>\n                              </div>\n                              <div class="col-auto">\n                                  <p>File No. 168254858774</p>\n                                  <p>Doctor: Dr. Ahmed Alnajjar</p>\n                              </div>\n                          </div>\n                          <div class="table-responsive">\n                              <table class="table">\n                                  <thead>\n                                      <tr>\n                                          <th>Description</th>\n                                          <th>Price</th>\n                                      </tr>\n                                  </thead>\n                                  <tbody>\n                                      <tr>\n                                          <td>Video Call</td>\n                                          <td>500 AED</td>\n                                      </tr>\n                                  </tbody>\n                                  <tfoot>\n                                      <tr>\n                                          <td>Total</td>\n                                          <td>500 AED</td>\n                                      </tr>\n                                  </tfoot>\n                              </table>\n                          </div>\n                      </div>\n                    </div><footer class="sticky-footer w-100 text-center">\n                      <p class="mb-0 font-weight-bold">Araa Consultancy and Studies</p>\n                      <p class="mb-0">Unit 201, DBCS Building Al Gar houd 13866 Dubai 941, Tel: +971 ---------------</p>\n                      <p class="mb-0">Email: ahmedalnajjar@ahmedalnajjar.com web: www.ahmedalnajjar.com</p>\n                  </footer>'}function renderPtDetails(t){return sessionStorage.setItem("email",t.email),htmlContent=`<div class="row">\n    <div class="col-md-12 col-lg-5">\n        <p class="mb-1"><strong>Patient Name: </strong>${getUserName(t)}</p>\n        <p class="mb-1"><strong>Patient Email: </strong> ${t.email}</p>\n        <p class="mb-1"><strong>Sex: </strong> ${null!=t.gender?t.gender:"-"}</p>\n        <p class="mb-1"><strong>Emirates ID: </strong> ${null!=t.preferred_name?t.preferred_name:"-"}</p>\n        <p class="mb-1"><strong>Age: </strong> ${findAge(t.birthdate)}</p>\n        <p class="mb-1"><strong>DOB: </strong> ${null!=t.birthdate?t.birthdate:"-"}</p>\n    </div>\n    <div class="col-12 col-md-8 col-lg-5">\n        <p class="mb-1"><strong>Nationality: </strong>${null!=t.locale?t.locale:"-"}</p>\n        <p class="mb-1"><strong>Patient Type</strong> -</p>\n        <p class="mb-1"><strong>Mobile No: </strong>${null!=t.phone_number?t.phone_number:"-"}</p>\n        <p class="mb-1"><strong>Start Time: </strong> - </p>\n        <p class="mb-1"><strong>End Time: </strong> - </p>\n    </div>\n    <div class="col-sm-12 col-md-auto order-sm-1">\n        <div class="w-100 text-center p-2"><img style="width: 125px;height: 125px;" src=${null!=t.picture?t.picture:"./assets/img/user.svg"} /></div>\n    </div>\n</div>`,htmlContent}var testTool={b64EncodeUnicode:function(t){return btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,(function(t,e){return String.fromCharCode("0x"+e)})))},b64DecodeUnicode:function(t){return decodeURIComponent(atob(t).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))},isMobileDevice:function(){return navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)},getMeetingConfig:function(){return{mn:parseInt(document.getElementById("meeting_number").value),name:testTool.b64EncodeUnicode(document.getElementById("display_name").value),pwd:document.getElementById("meeting_pwd").value,role:parseInt(document.getElementById("meeting_role").value,10),email:testTool.b64EncodeUnicode(document.getElementById("meeting_email").value),lang:document.getElementById("meeting_lang").value,signature:"",china:document.getElementById("meeting_china").value}},createZoomNode:function(t,e){const n=document.createElement("iframe");n.id=t,n.sandbox="allow-forms allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox",n.allow="microphone; camera; fullscreen;",n.src=e,n.style="","function"==typeof document.body.append?document.body.append(n):document.body.appendChild(n)},getCurrentDomain:function(){return window.location.protocol+"//"+window.location.hostname+":"+window.location.port},parseQuery:function(){return function(){for(var t=window.location.href,e=t.substr(t.indexOf("?")),n={},i=("?"===e[0]?e.substr(1):e).split("&"),a=0;a<i.length;a+=1){var o=i[a].split("=");n[decodeURIComponent(o[0])]=decodeURIComponent(o[1]||"")}return n}()},parseURL:function(t){return function(){var e=t,n=new URL(t),i=e.substr(e.indexOf("?")),a={};a.url=t,a.hostname=n.hostname,a.pathname=n.pathname,a.hash=n.hash;for(var o=("?"===i[0]?i.substr(1):i).split("&"),r=0;r<o.length;r+=1){var s=o[r].split("=");a[decodeURIComponent(s[0])]=decodeURIComponent(s[1]||"")}return a}()},serialize:function(t){var e=["name","mn","email","pwd","role","lang","signature","china"];Array.intersect=function(){for(var t=new Array,e={},n=0;n<arguments.length;n++)for(var i=0;i<arguments[n].length;i++){var a=arguments[n][i];e[a]?(e[a]++,e[a]==arguments.length&&t.push(a)):e[a]=1}return t},Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{enumerable:!1,value:function(t){return this.filter((function(e){return e===t})).length>0}});var n=Array.intersect(e,Object.keys(t)),i=[];return e.forEach((function(e){n.includes(e)&&i.push([e,t[e]])})),Object.keys(t).sort().forEach((function(e){n.includes(e)||i.push([e,t[e]])})),function(t){var e=[];for(var n in t)void 0!==t[n][1]&&e.push(encodeURIComponent(t[n][0])+"="+encodeURIComponent(t[n][1]));return e.join("&")}(i)},detectOS:function(){var t=navigator.userAgent,e="Win32"===navigator.platform||"Windows"===navigator.platform,n="Mac68K"===navigator.platform||"MacPPC"===navigator.platform||"Macintosh"===navigator.platform||"MacIntel"===navigator.platform;if(n)return"Mac";if("X11"===navigator.platform&&!e&&!n)return"Unix";if(String(navigator.platform).indexOf("Linux")>-1)return"Linux";if(e){if(t.indexOf("Windows NT 5.0")>-1||t.indexOf("Windows 2000")>-1)return"Win2000";if(t.indexOf("Windows NT 5.1")>-1||t.indexOf("Windows XP")>-1)return"WinXP";if(t.indexOf("Windows NT 5.2")>-1||t.indexOf("Windows 2003")>-1)return"Win2003";if(t.indexOf("Windows NT 6.0")>-1||t.indexOf("Windows Vista")>-1)return"WinVista";if(t.indexOf("Windows NT 6.1")>-1||t.indexOf("Windows 7")>-1)return"Win7";if(t.indexOf("Windows NT 10")>-1||t.indexOf("Windows 10")>-1)return"Win10"}return"other"},detectIE:function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return"IE"+parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("Trident/")>0){var n=t.indexOf("rv:");return"IE"+parseInt(t.substring(n+3,t.indexOf(".",n)),10)}var i=t.indexOf("Edge/");return i>0&&"Edge"+parseInt(t.substring(i+5,t.indexOf(".",i)),10)},getBrowserInfo:function(){var t=navigator.userAgent.toLowerCase();if(t.indexOf("firefox")>0)return t.match(/firefox\/[\d.]+/gi);if(t.indexOf("safari")>0&&t.indexOf("chrome")<0){var e,n="safari/unknow";return n=t.match(/version\/[\d.]+/gi),e=t.match(/safari\/[\d.]+/gi),n&&(n=n.toString().replace("version","safari")),e&&(n=e.toString().replace("version","safari")),n}var i=testTool.detectIE();return i||(t.indexOf("chrome")>0?t.match(/chrome\/[\d.]+/gi):"other")},getRandomInt:function(t){return Math.floor(Math.random()*Math.floor(t))},extractHostname:function(t){return(t.indexOf("//")>-1?t.split("/")[2]:t.split("/")[0]).split(":")[0].split("?")[0]},getDomainName:function(t){return t.substring(t.lastIndexOf(".",t.lastIndexOf(".")-1)+1)},setCookie:function(t,e){var n=new Date;n.setTime(n.getTime()+864e5);var i="expires="+n.toUTCString();document.cookie=t+"="+e+";"+i+";path=/"},getCookie:function(t){for(var e=t+"=",n=decodeURIComponent(document.cookie).split(";"),i=0;i<n.length;i+=1){for(var a=n[i];" "===a.charAt(0);)a=a.substring(1);if(0===a.indexOf(e))return a.substring(e.length,a.length)}return""},deleteAllCookies:function(){for(var t=document.cookie.split(";"),e=0;e<t.length;e++){var n=t[e],i=n.indexOf("="),a=i>-1?n.substr(0,i):n;document.cookie=a+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"}}};function printForm(t){$(".page-header");let e=$(`iframe[name="${t}"`).contents().find(".page-header").height(),n=$(`iframe[name="${t}"`).contents().find(".page-footer").height();void 0===e&&(e=0),void 0===n&&(n=0),e+=10,n+=10,$(`iframe[name="${t}"`).contents().find(".style").text(`@media print {.page-header-space { height: ${e}px!important;} .page-footer-space {height: ${n}px!important;}}`),window.frames[t].print()}function resizeHeaderFooter(){let t=$("header").height(),e=$("footer").height();void 0===t&&(t=0),void 0===e&&(e=0),t+=10,e+=10,$(".style").text(`@media print {.page-header-space { height: ${t}px!important;} .page-footer-space {height: ${e}px!important;}}`)}function signInButton(){var t={Username:document.getElementById("inputUsername").value,Password:document.getElementById("inputPassword").value},e=new AmazonCognitoIdentity.AuthenticationDetails(t),n=new AmazonCognitoIdentity.CognitoUserPool(poolData),i={Username:document.getElementById("inputUsername").value,Pool:n};new AmazonCognitoIdentity.CognitoUser(i).authenticateUser(e,{onSuccess:function(t){User.accessToken=t.getAccessToken().getJwtToken(),User.role=t.idToken.payload["cognito:groups"][0]?t.idToken.payload["cognito:groups"][0]:"patient",console.log("user details - ",User),User.loginResponse=t},onFailure:function(t){console.log(t.message||JSON.stringify(t))}})}function signUpButton(){var t=new AmazonCognitoIdentity.CognitoUserPool(poolData),e=[],n=new AmazonCognitoIdentity.CognitoUserAttribute({Name:"email",Value:"........."}),i=new AmazonCognitoIdentity.CognitoUserAttribute({Name:"phone_number",Value:"...................."});e.push(n),e.push(i),t.signUp("username","password",e,null,(function(t,e){if(t)alert(t.message||JSON.stringify(t));else{var n=e.user;console.log("user name is "+n.getUsername())}}))}window.testTool=testTool,resizeHeaderFooter();var userPool=new AmazonCognitoIdentity.CognitoUserPool(poolData),cognitoUser=userPool.getCurrentUser();function getUserGroups(){return cognitoUser.getSession((function(t,e){if(!t)return result.idToken.payload["cognito:groups"]?result.idToken.payload["cognito:groups"][0]:"patient";console.log(t)})),null}function logOut(){sessionStorage.clear(),cognitoUser.signOut()}function cptDesc(){$.showModal({title:"CPT",body:'<div class="table-responsive">\n    <table class="table">\n        <thead>\n            <tr>\n                <th>Code</th>\n                <th>Description</th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr>\n                <td>90801</td>\n                <td>Psychiatric diagnostic interview examination</td>\n            </tr>\n            <tr>\n                <td>90802</td>\n                <td>Interactive psychiatric diagnostic interview examination using play equipment, physical devices, language interpreter, or other mechanisms of communication</td>\n            </tr>\n            <tr>\n                <td>90804</td>\n                <td>Individual psychotherapy, insight oriented, behavior modifying and/or supportive, in an office or outpatient facility, approximately 20 to 30 minutes face-to-face with the patient;</td>\n            </tr>\n            <tr>\n                <td>90805</td>\n                <td>Individual psychotherapy, insight oriented, behavior modifying and/or supportive, in an office or outpatient facility, approximately 20 to 30 minutes face-to-face with the patient; with medical evaluation and management services</td>\n            </tr>\n            <tr>\n                <td>90806</td>\n                <td>Individual psychotherapy, insight oriented, behavior modifying and/or supportive, in an office or outpatient facility, approximately 45 to 50 minutes face-to-face with the patient;</td>\n            </tr>\n            <tr>\n                <td>90807</td>\n                <td>Individual psychotherapy, insight oriented, behavior modifying and/or supportive, in an office or outpatient facility, approximately 45 to 50 minutes face-to-face with the patient; with medical evaluation and management services</td>\n            </tr>\n            <tr>\n                <td>90808</td>\n                <td>Individual psychotherapy, insight oriented, behavior modifying and/or supportive, in an office or outpatient facility, approximately 75 to 80 minutes face-to-face with the patient;</td>\n            </tr>\n            <tr>\n                <td>90809</td>\n                <td>Individual psychotherapy, insight oriented, behavior modifying and/or supportive, in an office or outpatient facility, approximately 75 to 80 minutes face-to-face with the patient; with medical evaluation and management services</td>\n            </tr>\n            <tr>\n                <td>90810</td>\n                <td>Individual psychotherapy, interactive, using play equipment, physical devices, language interpreter, or other mechanisms of non-verbal communication, in an office or outpatient facility, approximately 20 to 30 minutes face-to-face with the patient;</td>\n            </tr>\n            <tr>\n                <td>90811</td>\n                <td>Individual psychotherapy, interactive, using play equipment, physical devices, language interpreter, or other mechanisms of non-verbal communication, in an office or outpatient facility, approximately 20 to 30 minutes face-to-face with the patient; with medical evaluation and management services</td>\n            </tr>\n            <tr>\n                <td>90812</td>\n                <td>Individual psychotherapy, interactive, using play equipment, physical devices, language interpreter, or other mechanisms of non-verbal communication, in an office or outpatient facility, approximately 45 to 50 minutes face-to-face with the patient;</td>\n            </tr>\n            <tr>\n                <td>90813</td>\n                <td>Individual psychotherapy, interactive, using play equipment, physical devices, language interpreter, or other mechanisms of non-verbal communication, in an office or outpatient facility, approximately 45 to 50 minutes face-to-face with the patient; with medical evaluation and management services</td>\n            </tr>\n            <tr>\n                <td>90814</td>\n                <td>Individual psychotherapy, interactive, using play equipment, physical devices, language interpreter, or other mechanisms of non-verbal communication, in an office or outpatient facility, approximately 75 to 80 minutes face-to-face with the patient;</td>\n            </tr>\n            <tr>\n                <td>90815</td>\n                <td>Individual psychotherapy, interactive, using play equipment, physical devices, language interpreter, or other mechanisms of non-verbal communication, in an office or outpatient facility, approximately 75 to 80 minutes face-to-face with the patient; with medical evaluation and management services</td>\n            </tr>\n            <tr>\n                <td>90816</td>\n                <td>Individual psychotherapy, insight oriented, behavior modifying and/or supportive, in an inpatient hospital, partial hospital or residential care setting, approximately 20 to 30 minutes face-to-face with the patient;</td>\n            </tr>\n            <tr>\n                <td>90817</td>\n                <td>Individual psychotherapy, insight oriented, behavior modifying and/or supportive, in an inpatient hospital, partial hospital or residential care setting, approximately 20 to 30 minutes face-to-face with the patient; with medical evaluation and management services</td>\n            </tr>\n            <tr>\n                <td>90818</td>\n                <td>Individual psychotherapy, insight oriented, behavior modifying and/or supportive, in an inpatient hospital, partial hospital or residential care setting, approximately 45 to 50 minutes face-to-face with the patient;</td>\n            </tr>\n            <tr>\n                <td>90819</td>\n                <td>Individual psychotherapy, insight oriented, behavior modifying and/or supportive, in an inpatient hospital, partial hospital or residential care setting, approximately 45 to 50 minutes face-to-face with the patient; with medical evaluation and management services</td>\n            </tr>\n            <tr>\n                <td>90821</td>\n                <td>Individual psychotherapy, insight oriented, behavior modifying and/or supportive, in an inpatient hospital, partial hospital or residential care setting, approximately 75 to 80 minutes face-to-face with the patient;</td>\n            </tr>\n            <tr>\n                <td>90822</td>\n                <td>Individual psychotherapy, insight oriented, behavior modifying and/or supportive, in an inpatient hospital, partial hospital or residential care setting, approximately 75 to 80 minutes face-to-face with the patient; with medical evaluation and management services</td>\n            </tr>\n            <tr>\n                <td>90823</td>\n                <td>Cell 4</td>\n            </tr>\n            <tr>\n                <td>90824</td>\n                <td>Individual psychotherapy, interactive, using play equipment, physical devices, language interpreter, or other mechanisms of non-verbal communication, in an inpatient hospital, partial hospital or residential care setting, approximately 20 to 30 minutes face-to-face with the patient;</td>\n            </tr>\n            <tr>\n                <td>90826</td>\n                <td>Individual psychotherapy, interactive, using play equipment, physical devices, language interpreter, or other mechanisms of non-verbal communication, in an inpatient hospital, partial hospital or residential care setting, approximately 45 to 50 minutes face-to-face with the patient;</td>\n            </tr>\n            <tr>\n                <td>90827</td>\n                <td>Individual psychotherapy, interactive, using play equipment, physical devices, language interpreter, or other mechanisms of non-verbal communication, in an inpatient hospital, partial hospital or residential care setting, approximately 45 to 50 minutes face-to-face with the patient; with medical evaluation and management services</td>\n            </tr>\n            <tr>\n                <td>90828</td>\n                <td>Individual psychotherapy, interactive, using play equipment, physical devices, language interpreter, or other mechanisms of non-verbal communication, in an inpatient hospital, partial hospital or residential care setting, approximately 75 to 80 minutes face-to-face with the patient;</td>\n            </tr>\n            <tr>\n                <td>90829</td>\n                <td>Individual psychotherapy, interactive, using play equipment, physical devices, language interpreter, or other mechanisms of non-verbal communication, in an inpatient hospital, partial hospital or residential care setting, approximately 75 to 80 minutes face-to-face with the patient; with medical evaluation and management services</td>\n            </tr>\n            <tr>\n                <td>90845</td>\n                <td>Psychoanalysis</td>\n            </tr>\n            <tr>\n                <td>90846</td>\n                <td>Family psychotherapy (without the patient present)</td>\n            </tr>\n            <tr>\n                <td>90847</td>\n                <td>Family psychotherapy (conjoint psychotherapy) (with patient present)</td>\n            </tr>\n            <tr>\n                <td>90849</td>\n                <td>Multiple-family group psychotherapy</td>\n            </tr>\n            <tr>\n                <td>90853</td>\n                <td>Group psychotherapy (other than of a multiple-family group)</td>\n            </tr>\n            <tr>\n                <td>90857</td>\n                <td>Interactive group psychotherapy</td>\n            </tr>\n            <tr>\n                <td>90862</td>\n                <td>Pharmacologic management, including prescription, use, and review of medication with no more than minimal medical psychotherapy</td>\n            </tr>\n            <tr>\n                <td>90865</td>\n                <td>Narcosynthesis for psychiatric diagnostic and therapeutic purposes (eg, sodium amobarbital (Amytal) interview)</td>\n            </tr>\n            <tr>\n                <td>90870</td>\n                <td>Electroconvulsive therapy (includes necessary monitoring)</td>\n            </tr>\n            <tr>\n                <td>90875</td>\n                <td>Individual psychophysiological therapy incorporating biofeedback training by any modality (face-to-face with the patient), with psychotherapy (eg, insight oriented, behavior modifying or supportive psychotherapy); approximately 20-30 minutes</td>\n            </tr>\n            <tr>\n                <td>90876</td>\n                <td>Individual psychophysiological therapy incorporating biofeedback training by any modality (face-to-face with the patient), with psychotherapy (eg, insight oriented, behavior modifying or supportive psychotherapy); approximately 45-50 minutes</td>\n            </tr>\n            <tr>\n                <td>90880</td>\n                <td>Hypnotherapy</td>\n            </tr>\n            <tr>\n                <td>90882</td>\n                <td>Environmental intervention for medical management purposes on a psychiatric patient&#39;s behalf with agencies, employers, or institutions</td>\n            </tr>\n            <tr>\n                <td>90885</td>\n                <td>Psychiatric evaluation of hospital records, other psychiatric reports, psychometric and/or projective tests, and other accumulated data for medical diagnostic purposes</td>\n            </tr>\n            <tr>\n                <td>90887</td>\n                <td>Interpretation or explanation of results of psychiatric, other medical examinations and procedures, or other accumulated data to family or other responsible persons, or advising them how to assist patient</td>\n            </tr>\n            <tr>\n                <td>90889</td>\n                <td>Preparation of report of patient&#39;s psychiatric status, history, treatment, or progress (other than for legal or consultative purposes) for other physicians, agencies, or insurance carriers</td>\n            </tr>\n            <tr>\n                <td>90899</td>\n                <td>Unlisted psychiatric service or procedure</td>\n            </tr>\n            <tr>\n                <td>96101</td>\n                <td>PSYCHOLOGICAL TESTING PR HR WITH PATIENT</td>\n            </tr>\n            <tr>\n                <td>96150</td>\n                <td>HLTH&amp;BEHAVIOR ASSMT EA 15 MIN W/PT 1ST ASSMT</td>\n            </tr>\n        </tbody>\n    </table>\n</div>'})}null!=cognitoUser&&cognitoUser.getSession((function(t,e){t?console.log("error -",t):e.isValid()||logOut()})),$("#adults-form, #claim-form").on("submit",(function(t){t.preventDefault();var e=$(".form").serialize();console.log("queryString - ",e),$.ajax({url:cors+"https://api.ahmedalnajjar.com/dev/",type:"POST",dataType:"json",data:JSON.stringify({formData:e}),contentType:"application/json;",cache:!1}).done((function(t){console.log("response - ",t)})).fail((function(t){console.log("error ajax")})).always((function(t){}))}));